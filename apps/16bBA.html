<html>
    <head>
        <title>Minamotion Apps - 16bBA</title>
        <link rel="stylesheet" href="https://minamotion.org/assets/stylesheets/main.css">
        <link rel="stylesheet" href="https://minamotion.org/assets/stylesheets/dialog.css">
        <link rel="icon" href="https://minamotion.org/assets/images/minamotion_logo.png">
        <link rel="stylesheet" href="/assets/stylesheets/app.css">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5, minimum-scale=0.5">
        <meta charset="UTF-8">
        <meta name="description" content="Welcome to Minamotion Apps, here I develop apps whenever I can and want">
        <meta name="keywords" content="Minamotion, MultiLayer, Apps, Whatever, Websites, Blabla, Thing, Random">
        <meta name="author" content="MultiLayer">
        <meta name="application-name" content="Minamotion Apps">
    </head>
    <body id="body">
        <script src="https://minamotion.org/assets/scripts/safety.js" async=""></script>
        <div id="contents" class="center-child">
            <assets id="app-assets">
                <style>
                    #grid{
                        display: grid;
                        background-color: #ffffff;
                        color: #000000;
                        width: 70px;
                        height: 100px;
                        grid-template-columns: auto auto auto auto;
                    }
    
                    .gdatvalue {
                        width: 17.5px;
                        height: 25px;
                        margin: 0px;
                    }
                </style>
                <script>
                    let gdat = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
                    let grid = []

                    function beginframe(){
                        let txt = gdat.toString().replaceAll(',','')
                        grid = grid.slice.call(document.getElementById('grid').children)
                        grid.forEach(element => {
                            element.addEventListener('click', ()=>{
                                txt = gdat.toString().replaceAll(',','')
                                document.getElementById('txt').setAttribute('value', txt)
                                if(gdat[element.getAttribute("data-gdatpos")] > 0){
                                    gdat[element.getAttribute("data-gdatpos")] = 0
                                } else {
                                    gdat[element.getAttribute("data-gdatpos")] = 1
                                }
                            })
                        })
                    }

                    function updateframe(){
                        // Fix style
                        grid.forEach(element => {
                            if(gdat[element.getAttribute("data-gdatpos")] > 0){
                                document.getElementById('grid').children.item(element.getAttribute("data-gdatpos")).setAttribute('style','background:black;')
                            } else {
                                document.getElementById('grid').children.item(element.getAttribute("data-gdatpos")).setAttribute('style','')
                            }
                        })
                    }

                    function loadsinglegrid(newinput) {
                        let readinput = newinput.split('')
                        grid.forEach(element => {
                            if(readinput[element.getAttribute("data-gdatpos")] > 0){
                                gdat[element.getAttribute("data-gdatpos")] = 0
                            } else {
                                gdat[element.getAttribute("data-gdatpos")] = 1
                            }
                        })
                        let txt = gdat.toString().replaceAll(',','')
                    }
                </script>
            </assets>
            <assets id="app-assets-handler">
                <script src="/assets/scripts/app.js"></script>
            </assets>
            <app id="app" hidden>
                <div class="center-child" style="width:auto;height:auto;">
                    <div id="grid">
                        <!-- I just realized that Javascript was 0 indexed -->
                        <div data-gdatpos=0 class="gdatvalue"></div>
                        <div data-gdatpos=1 class="gdatvalue"></div>
                        <div data-gdatpos=2 class="gdatvalue"></div>
                        <div data-gdatpos=3 class="gdatvalue"></div>
                        <div data-gdatpos=4 class="gdatvalue"></div>
                        <div data-gdatpos=5 class="gdatvalue"></div>
                        <div data-gdatpos=6 class="gdatvalue"></div>
                        <div data-gdatpos=7 class="gdatvalue"></div>
                        <div data-gdatpos=8 class="gdatvalue"></div>
                        <div data-gdatpos=9 class="gdatvalue"></div>
                        <div data-gdatpos=10 class="gdatvalue"></div>
                        <div data-gdatpos=11 class="gdatvalue"></div>
                        <div data-gdatpos=12 class="gdatvalue"></div>
                        <div data-gdatpos=13 class="gdatvalue"></div>
                        <div data-gdatpos=14 class="gdatvalue"></div>
                        <div data-gdatpos=15 class="gdatvalue"></div>
                    </div>
                </div>
                <div>
                    <span style="margin:24px;">16bBA Encoder</span>
                    <input id="txt" style="margin:24px" placeholder="################" readonly>
                </div>
                <br>
                <div>
                    <span style="margin:24px;">16bBA Decoder</span>
                    <input id="todecodetxt" style="margin:24px" placeholder="################">
                    <button class="button" onclick="if(app.begin){loadsinglegrid(document.getElementById('todecodetxt').value)}">Decode string</button>
                </div>
            </app>
            <button id="begin-btn" class="button" disabled style="margin:auto;">Loading document</button>
        </div>
    </body>
</html>